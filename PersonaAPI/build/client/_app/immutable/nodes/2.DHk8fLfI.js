import{s as ne,n as s}from"../chunks/scheduler.BWOwpdHh.js";import{S as ae,i as le,e as g,s as T,k as j,j as Q,v as re,c as v,d as m,m as D,a as A,o as q,n as S,l as W,w as h,q as i,b as L,p as X,r as oe,t as I,f as V,u as Z,x as U,g as se,h as ce,y as ie}from"../chunks/index.MrXRJrN0.js";import{h as ee,u as te,e as z}from"../chunks/each.MqN4OFCs.js";import{s as ue,a as G,r as J}from"../chunks/stores.C_hhX81d.js";import{R as he}from"../chunks/RecentCharacters.BvrbHZv8.js";import{d as de}from"../chunks/dayjs.min.lVgWzJct.js";import{P as me}from"../chunks/PartialUser.0Mh093ly.js";function K(c,n,o){const l=c.slice();return l[4]=n[o],l}function fe(c){return{c:s,l:s,m:s,p:s,i:s,o:s,d:s}}function pe(c){let n,o,l=z(c[3]),t=[];for(let e=0;e<l.length;e+=1)t[e]=O(K(c,l,e));const p=e=>V(t[e],1,1,()=>{t[e]=null});return{c(){for(let e=0;e<t.length;e+=1)t[e].c();n=U()},l(e){for(let r=0;r<t.length;r+=1)t[r].l(e);n=U()},m(e,r){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,r);L(e,n,r),o=!0},p(e,r){if(r&6){l=z(e[3]);let a;for(a=0;a<l.length;a+=1){const E=K(e,l,a);t[a]?(t[a].p(E,r),I(t[a],1)):(t[a]=O(E),t[a].c(),I(t[a],1),t[a].m(n.parentNode,n))}for(se(),a=l.length;a<t.length;a+=1)p(a);ce()}},i(e){if(!o){for(let r=0;r<l.length;r+=1)I(t[r]);o=!0}},o(e){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)V(t[r]);o=!1},d(e){e&&m(n),ie(t,e)}}}function _e(c){return{c:s,l:s,m:s,p:s,i:s,o:s,d:s}}function ge(c){let n,o;return n=new me({props:{user:c[7]}}),{c(){Q(n.$$.fragment)},l(l){W(n.$$.fragment,l)},m(l,t){X(n,l,t),o=!0},p:s,i(l){o||(I(n.$$.fragment,l),o=!0)},o(l){V(n.$$.fragment,l),o=!1},d(l){Z(n,l)}}}function ve(c){return{c:s,l:s,m:s,p:s,i:s,o:s,d:s}}function O(c){let n,o,l,t=de(c[4].createdAt).format("DD/MM/YYYY")+"",p,e,r,a,E=c[4].content+"",C,P,M,u={ctx:c,current:null,token:null,hasCatch:!1,pending:ve,then:ge,catch:_e,value:7,blocks:[,,,]};return ee(c[2](c[4].userId),u),{c(){n=g("div"),o=g("div"),l=g("h3"),p=j(t),e=T(),u.block.c(),r=T(),a=g("p"),C=j(E),P=T(),this.h()},l($){n=v($,"DIV",{class:!0});var d=A(n);o=v(d,"DIV",{class:!0});var _=A(o);l=v(_,"H3",{});var H=A(l);p=q(H,t),H.forEach(m),e=D(_),u.block.l(_),_.forEach(m),r=D(d),a=v(d,"P",{class:!0});var y=A(a);C=q(y,E),y.forEach(m),P=D(d),d.forEach(m),this.h()},h(){h(o,"class","inline svelte-s3gv7x"),h(a,"class","svelte-s3gv7x"),h(n,"class","log svelte-s3gv7x")},m($,d){L($,n,d),i(n,o),i(o,l),i(l,p),i(o,e),u.block.m(o,u.anchor=null),u.mount=()=>o,u.anchor=null,i(n,r),i(n,a),i(a,C),i(n,P),M=!0},p($,d){c=$,te(u,c,d)},i($){M||(I(u.block),M=!0)},o($){for(let d=0;d<3;d+=1){const _=u.blocks[d];V(_)}M=!1},d($){$&&m(n),u.block.d(),u.token=null,u=null}}}function ke(c){return{c:s,l:s,m:s,p:s,i:s,o:s,d:s}}function be(c){let n,o,l,t,p,e,r,a,E,C,P,M,u,$='<div class="center svelte-s3gv7x"><img src="/welcome1.png" alt="" class="svelte-s3gv7x"/> <h2 class="svelte-s3gv7x">to the fictional character database</h2></div>',d,_,H,y,w,R="Changelogs",N,Y;_=new he({});let k={ctx:c,current:null,token:null,hasCatch:!1,pending:ke,then:pe,catch:fe,value:3,blocks:[,,,]};return ee(c[1](),k),{c(){n=g("meta"),o=g("meta"),l=g("meta"),t=g("meta"),p=g("meta"),e=T(),r=g("main"),a=g("p"),E=j("There are "),C=j(c[0]),P=j(" guests."),M=T(),u=g("div"),u.innerHTML=$,d=T(),Q(_.$$.fragment),H=T(),y=g("div"),w=g("h2"),w.textContent=R,N=T(),k.block.c(),this.h()},l(b){const f=re("svelte-5jsod",document.head);n=v(f,"META",{name:!0,content:!0}),o=v(f,"META",{name:!0,content:!0}),l=v(f,"META",{property:!0,content:!0}),t=v(f,"META",{property:!0,content:!0}),p=v(f,"META",{property:!0,content:!0}),f.forEach(m),e=D(b),r=v(b,"MAIN",{});var x=A(r);a=v(x,"P",{id:!0,class:!0});var B=A(a);E=q(B,"There are "),C=q(B,c[0]),P=q(B," guests."),B.forEach(m),M=D(x),u=v(x,"DIV",{class:!0,"data-svelte-h":!0}),S(u)!=="svelte-fiqluh"&&(u.innerHTML=$),d=D(x),W(_.$$.fragment,x),H=D(x),y=v(x,"DIV",{class:!0});var F=A(y);w=v(F,"H2",{class:!0,"data-svelte-h":!0}),S(w)!=="svelte-1il5hxl"&&(w.textContent=R),N=D(F),k.block.l(F),F.forEach(m),x.forEach(m),this.h()},h(){document.title="Persona, fictional character database",h(n,"name","author"),h(n,"content","Persona DB"),h(o,"name","description"),h(o,"content","Find and host any original characters"),h(l,"property","og:title"),h(l,"content","Persona DB"),h(t,"property","og:description"),h(t,"content","Find and host any original characters"),h(p,"property","og:image"),h(p,"content","https://persona-db.xyz/favicon.png"),h(a,"id","guest_count"),h(a,"class","svelte-s3gv7x"),h(u,"class","container full svelte-s3gv7x"),h(w,"class","svelte-s3gv7x"),h(y,"class","changelogs svelte-s3gv7x")},m(b,f){i(document.head,n),i(document.head,o),i(document.head,l),i(document.head,t),i(document.head,p),L(b,e,f),L(b,r,f),i(r,a),i(a,E),i(a,C),i(a,P),i(r,M),i(r,u),i(r,d),X(_,r,null),i(r,H),i(r,y),i(y,w),i(y,N),k.block.m(y,k.anchor=null),k.mount=()=>y,k.anchor=null,Y=!0},p(b,[f]){c=b,(!Y||f&1)&&oe(C,c[0]),te(k,c,f)},i(b){Y||(I(_.$$.fragment,b),I(k.block),Y=!0)},o(b){V(_.$$.fragment,b);for(let f=0;f<3;f+=1){const x=k.blocks[f];V(x)}Y=!1},d(b){b&&(m(e),m(r)),m(n),m(o),m(l),m(t),m(p),Z(_),k.block.d(),k.token=null,k=null}}}function $e(c,n,o){let l=0;async function t(){try{return(await G.get(`${J}/changelogs`)).data.reverse()}catch(e){return console.log(e),[]}}async function p(e){return(await G.get(`${J}/users/${e}`)).data}return ue.on("guest_count",e=>{o(0,l=e)}),[l,t,p]}class Pe extends ae{constructor(n){super(),le(this,n,$e,be,ne,{})}}export{Pe as component};
