import{s as Y,n as E}from"../chunks/scheduler.BWOwpdHh.js";import{S as Z,i as x,e as v,x as z,s as P,k as q,v as ee,c as b,d as c,m as T,a as B,o as S,w as _,q as d,b as k,r as F,f as O,h as te,t as R,g as ne,j as ae,l as re,p as oe,u as le,y as ie}from"../chunks/index.MrXRJrN0.js";import{h as se,u as ce,e as L}from"../chunks/each.MqN4OFCs.js";import{U as ue}from"../chunks/UserProfile.Bpe4Ez77.js";import"../chunks/stores.B2cYib0m.js";import{a as Q}from"../chunks/api.DB7-yUPC.js";function _e({params:l}){return l}const Ce=Object.freeze(Object.defineProperty({__proto__:null,load:_e},Symbol.toStringTag,{value:"Module"}));function W(l,n,i){const t=l.slice();return t[4]=n[i],t}function fe(l){let n,i,t,e,o,a,u;return{c(){n=v("meta"),t=P(),e=v("meta"),a=P(),u=v("meta"),this.h()},l(s){n=b(s,"META",{name:!0,content:!0}),t=T(s),e=b(s,"META",{property:!0,content:!0}),a=T(s),u=b(s,"META",{property:!0,content:!0}),this.h()},h(){_(n,"name","description"),_(n,"content",i="Informations about "+l[0].id),_(e,"property","og:description"),_(e,"content",o="Couldn't find user "+l[0].id),_(u,"property","og:image"),_(u,"content","https://persona-db.xyz/favicon.png")},m(s,r){k(s,n,r),k(s,t,r),k(s,e,r),k(s,a,r),k(s,u,r)},p(s,r){r&1&&i!==(i="Informations about "+s[0].id)&&_(n,"content",i),r&1&&o!==(o="Couldn't find user "+s[0].id)&&_(e,"content",o)},d(s){s&&(c(n),c(t),c(e),c(a),c(u))}}}function me(l){let n,i,t,e,o,a,u,s;return{c(){n=v("meta"),t=P(),e=v("meta"),a=P(),u=v("meta"),this.h()},l(r){n=b(r,"META",{name:!0,content:!0}),t=T(r),e=b(r,"META",{property:!0,content:!0}),a=T(r),u=b(r,"META",{property:!0,content:!0}),this.h()},h(){_(n,"name","description"),_(n,"content",i="Informations about "+l[0].id),_(e,"property","og:description"),_(e,"content",o="Informations about "+l[0].id),_(u,"property","og:image"),_(u,"content",s=l[1].avatar)},m(r,m){k(r,n,m),k(r,t,m),k(r,e,m),k(r,a,m),k(r,u,m)},p(r,m){m&1&&i!==(i="Informations about "+r[0].id)&&_(n,"content",i),m&1&&o!==(o="Informations about "+r[0].id)&&_(e,"content",o),m&2&&s!==(s=r[1].avatar)&&_(u,"content",s)},d(r){r&&(c(n),c(t),c(e),c(a),c(u))}}}function he(l){let n,i,t=l[0].id+"",e;return{c(){n=v("p"),i=q("Couldn't find user with name "),e=q(t)},l(o){n=b(o,"P",{});var a=B(n);i=S(a,"Couldn't find user with name "),e=S(a,t),a.forEach(c)},m(o,a){k(o,n,a),d(n,i),d(n,e)},p(o,a){a&1&&t!==(t=o[0].id+"")&&F(e,t)},i:E,o:E,d(o){o&&c(n)}}}function de(l){var w;let n,i,t,e,o=((w=l[1])==null?void 0:w.username)+"",a,u,s,r,m;n=new ue({props:{user:l[1]}});let y={ctx:l,current:null,token:null,hasCatch:!1,pending:be,then:ve,catch:pe,value:3};return se(l[2](),y),{c(){ae(n.$$.fragment),i=P(),t=v("div"),e=v("h2"),a=q(o),u=q("'s Characters"),s=P(),r=v("div"),y.block.c(),this.h()},l(h){re(n.$$.fragment,h),i=T(h),t=b(h,"DIV",{class:!0});var g=B(t);e=b(g,"H2",{});var A=B(e);a=S(A,o),u=S(A,"'s Characters"),A.forEach(c),s=T(g),r=b(g,"DIV",{class:!0});var C=B(r);y.block.l(C),C.forEach(c),g.forEach(c),this.h()},h(){_(r,"class","characters"),_(t,"class","my-characters-box svelte-161lils")},m(h,g){oe(n,h,g),k(h,i,g),k(h,t,g),d(t,e),d(e,a),d(e,u),d(t,s),d(t,r),y.block.m(r,y.anchor=null),y.mount=()=>r,y.anchor=null,m=!0},p(h,g){var C;l=h;const A={};g&2&&(A.user=l[1]),n.$set(A),(!m||g&2)&&o!==(o=((C=l[1])==null?void 0:C.username)+"")&&F(a,o),ce(y,l,g)},i(h){m||(R(n.$$.fragment,h),m=!0)},o(h){O(n.$$.fragment,h),m=!1},d(h){h&&(c(i),c(t)),le(n,h),y.block.d(),y.token=null,y=null}}}function pe(l){return{c:E,l:E,m:E,p:E,d:E}}function ve(l){let n,i=L(l[3]),t=[];for(let e=0;e<i.length;e+=1)t[e]=X(W(l,i,e));return{c(){for(let e=0;e<t.length;e+=1)t[e].c();n=z()},l(e){for(let o=0;o<t.length;o+=1)t[o].l(e);n=z()},m(e,o){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,o);k(e,n,o)},p(e,o){if(o&4){i=L(e[3]);let a;for(a=0;a<i.length;a+=1){const u=W(e,i,a);t[a]?t[a].p(u,o):(t[a]=X(u),t[a].c(),t[a].m(n.parentNode,n))}for(;a<t.length;a+=1)t[a].d(1);t.length=i.length}},d(e){e&&c(n),ie(t,e)}}}function X(l){let n,i=l[4].name+"",t;return{c(){n=v("a"),t=q(i),this.h()},l(e){n=b(e,"A",{href:!0});var o=B(n);t=S(o,i),o.forEach(c),this.h()},h(){_(n,"href",`/${l[4].code}`)},m(e,o){k(e,n,o),d(n,t)},p:E,d(e){e&&c(n)}}}function be(l){return{c:E,l:E,m:E,p:E,d:E}}function ke(l){let n,i,t,e,o,a,u,s,r,m,y,w=l[0].id+"",h,g,A,C,I,M,$;document.title=n="Persona - User "+l[0].id;function G(f,p){return f[1]?me:fe}let V=G(l),U=V(l);const J=[de,he],D=[];function K(f,p){return f[1]?0:1}return I=K(l),M=D[I]=J[I](l),{c(){i=v("meta"),e=v("meta"),U.c(),a=z(),u=P(),s=v("main"),r=v("div"),m=v("h1"),y=q("User : "),h=q(w),g=P(),A=v("br"),C=P(),M.c(),this.h()},l(f){const p=ee("svelte-cr98qq",document.head);i=b(p,"META",{name:!0,content:!0}),e=b(p,"META",{property:!0,content:!0}),U.l(p),a=z(),p.forEach(c),u=T(f),s=b(f,"MAIN",{});var j=B(s);r=b(j,"DIV",{class:!0});var N=B(r);m=b(N,"H1",{});var H=B(m);y=S(H,"User : "),h=S(H,w),H.forEach(c),g=T(N),A=b(N,"BR",{}),C=T(N),M.l(N),N.forEach(c),j.forEach(c),this.h()},h(){_(i,"name","author"),_(i,"content",t="Persona DB - User "+l[0].id),_(e,"property","og:title"),_(e,"content",o="Persona DB - User "+l[0].id),_(r,"class","container")},m(f,p){d(document.head,i),d(document.head,e),U.m(document.head,null),d(document.head,a),k(f,u,p),k(f,s,p),d(s,r),d(r,m),d(m,y),d(m,h),d(r,g),d(r,A),d(r,C),D[I].m(r,null),$=!0},p(f,[p]){(!$||p&1)&&n!==(n="Persona - User "+f[0].id)&&(document.title=n),(!$||p&1&&t!==(t="Persona DB - User "+f[0].id))&&_(i,"content",t),(!$||p&1&&o!==(o="Persona DB - User "+f[0].id))&&_(e,"content",o),V===(V=G(f))&&U?U.p(f,p):(U.d(1),U=V(f),U&&(U.c(),U.m(a.parentNode,a))),(!$||p&1)&&w!==(w=f[0].id+"")&&F(h,w);let j=I;I=K(f),I===j?D[I].p(f,p):(ne(),O(D[j],1,1,()=>{D[j]=null}),te(),M=D[I],M?M.p(f,p):(M=D[I]=J[I](f),M.c()),R(M,1),M.m(r,null))},i(f){$||(R(M),$=!0)},o(f){O(M),$=!1},d(f){f&&(c(u),c(s)),c(i),c(e),U.d(f),c(a),D[I].d()}}}function ge(l,n,i){let{data:t}=n,e;(async()=>{try{i(1,e=await Q.getUser(t.id))}catch{}})();async function o(){return(await Q.getCharacters()).filter(u=>u.ownerId===e._id)}return l.$$set=a=>{"data"in a&&i(0,t=a.data)},[t,e,o]}class Pe extends Z{constructor(n){super(),x(this,n,ge,ke,Y,{data:0})}}export{Pe as component,Ce as universal};
