import{s as Z,n as E}from"../chunks/scheduler.BWOwpdHh.js";import{S as x,i as ee,e as b,x as V,s as P,k as q,v as te,c as v,d as c,m as w,a as B,o as S,w as m,q as d,b as k,r as F,f as H,h as ne,t as O,g as ae,j as re,l as le,p as oe,u as se,y as ie}from"../chunks/index.MrXRJrN0.js";import{h as ce,u as ue,e as L}from"../chunks/each.MqN4OFCs.js";import{a as Q,r as W}from"../chunks/stores.q1PpW4Db.js";import{U as fe}from"../chunks/UserProfile.g5fhnWqW.js";function me({params:s}){return s}const Ae=Object.freeze(Object.defineProperty({__proto__:null,load:me},Symbol.toStringTag,{value:"Module"}));function X(s,n,o){const t=s.slice();return t[6]=n[o],t}function _e(s){let n,o,t,e,l,a,u;return{c(){n=b("meta"),t=P(),e=b("meta"),a=P(),u=b("meta"),this.h()},l(i){n=v(i,"META",{name:!0,content:!0}),t=w(i),e=v(i,"META",{property:!0,content:!0}),a=w(i),u=v(i,"META",{property:!0,content:!0}),this.h()},h(){m(n,"name","description"),m(n,"content",o="Informations about "+s[0].id),m(e,"property","og:description"),m(e,"content",l="Couldn't find user "+s[0].id),m(u,"property","og:image"),m(u,"content","https://persona-db.xyz/favicon.png")},m(i,r){k(i,n,r),k(i,t,r),k(i,e,r),k(i,a,r),k(i,u,r)},p(i,r){r&1&&o!==(o="Informations about "+i[0].id)&&m(n,"content",o),r&1&&l!==(l="Couldn't find user "+i[0].id)&&m(e,"content",l)},d(i){i&&(c(n),c(t),c(e),c(a),c(u))}}}function he(s){let n,o,t,e,l,a,u,i;return{c(){n=b("meta"),t=P(),e=b("meta"),a=P(),u=b("meta"),this.h()},l(r){n=v(r,"META",{name:!0,content:!0}),t=w(r),e=v(r,"META",{property:!0,content:!0}),a=w(r),u=v(r,"META",{property:!0,content:!0}),this.h()},h(){m(n,"name","description"),m(n,"content",o="Informations about "+s[0].id),m(e,"property","og:description"),m(e,"content",l="Informations about "+s[0].id),m(u,"property","og:image"),m(u,"content",i=s[1].avatar)},m(r,_){k(r,n,_),k(r,t,_),k(r,e,_),k(r,a,_),k(r,u,_)},p(r,_){_&1&&o!==(o="Informations about "+r[0].id)&&m(n,"content",o),_&1&&l!==(l="Informations about "+r[0].id)&&m(e,"content",l),_&2&&i!==(i=r[1].avatar)&&m(u,"content",i)},d(r){r&&(c(n),c(t),c(e),c(a),c(u))}}}function de(s){let n,o,t=s[0].id+"",e;return{c(){n=b("p"),o=q("Couldn't find user with name "),e=q(t)},l(l){n=v(l,"P",{});var a=B(n);o=S(a,"Couldn't find user with name "),e=S(a,t),a.forEach(c)},m(l,a){k(l,n,a),d(n,o),d(n,e)},p(l,a){a&1&&t!==(t=l[0].id+"")&&F(e,t)},i:E,o:E,d(l){l&&c(n)}}}function pe(s){var T;let n,o,t,e,l=((T=s[1])==null?void 0:T.username)+"",a,u,i,r,_;n=new fe({props:{user:s[1]}});let g={ctx:s,current:null,token:null,hasCatch:!1,pending:ke,then:ve,catch:be,value:5};return ce(s[3](),g),{c(){re(n.$$.fragment),o=P(),t=b("div"),e=b("h2"),a=q(l),u=q("'s Characters"),i=P(),r=b("div"),g.block.c(),this.h()},l(h){le(n.$$.fragment,h),o=w(h),t=v(h,"DIV",{class:!0});var y=B(t);e=v(y,"H2",{});var U=B(e);a=S(U,l),u=S(U,"'s Characters"),U.forEach(c),i=w(y),r=v(y,"DIV",{class:!0});var A=B(r);g.block.l(A),A.forEach(c),y.forEach(c),this.h()},h(){m(r,"class","characters"),m(t,"class","my-characters-box svelte-161lils")},m(h,y){oe(n,h,y),k(h,o,y),k(h,t,y),d(t,e),d(e,a),d(e,u),d(t,i),d(t,r),g.block.m(r,g.anchor=null),g.mount=()=>r,g.anchor=null,_=!0},p(h,y){var A;s=h;const U={};y&2&&(U.user=s[1]),n.$set(U),(!_||y&2)&&l!==(l=((A=s[1])==null?void 0:A.username)+"")&&F(a,l),ue(g,s,y)},i(h){_||(O(n.$$.fragment,h),_=!0)},o(h){H(n.$$.fragment,h),_=!1},d(h){h&&(c(o),c(t)),se(n,h),g.block.d(),g.token=null,g=null}}}function be(s){return{c:E,l:E,m:E,p:E,d:E}}function ve(s){let n,o=L(s[5]),t=[];for(let e=0;e<o.length;e+=1)t[e]=Y(X(s,o,e));return{c(){for(let e=0;e<t.length;e+=1)t[e].c();n=V()},l(e){for(let l=0;l<t.length;l+=1)t[l].l(e);n=V()},m(e,l){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,l);k(e,n,l)},p(e,l){if(l&8){o=L(e[5]);let a;for(a=0;a<o.length;a+=1){const u=X(e,o,a);t[a]?t[a].p(u,l):(t[a]=Y(u),t[a].c(),t[a].m(n.parentNode,n))}for(;a<t.length;a+=1)t[a].d(1);t.length=o.length}},d(e){e&&c(n),ie(t,e)}}}function Y(s){let n,o=s[6].name+"",t;return{c(){n=b("a"),t=q(o),this.h()},l(e){n=v(e,"A",{href:!0});var l=B(n);t=S(l,o),l.forEach(c),this.h()},h(){m(n,"href",`/${s[6].code}`)},m(e,l){k(e,n,l),d(n,t)},p:E,d(e){e&&c(n)}}}function ke(s){return{c:E,l:E,m:E,p:E,d:E}}function ye(s){let n,o,t,e,l,a,u,i,r,_,g,T=s[0].id+"",h,y,U,A,C,I,$;document.title=n="Persona - User "+s[0].id;function G(f,p){return f[1]?he:_e}let R=G(s),M=R(s);const J=[pe,de],D=[];function K(f,p){return f[1]&&!f[2]?0:1}return C=K(s),I=D[C]=J[C](s),{c(){o=b("meta"),e=b("meta"),M.c(),a=V(),u=P(),i=b("main"),r=b("div"),_=b("h1"),g=q("User : "),h=q(T),y=P(),U=b("br"),A=P(),I.c(),this.h()},l(f){const p=te("svelte-cr98qq",document.head);o=v(p,"META",{name:!0,content:!0}),e=v(p,"META",{property:!0,content:!0}),M.l(p),a=V(),p.forEach(c),u=w(f),i=v(f,"MAIN",{});var j=B(i);r=v(j,"DIV",{class:!0});var N=B(r);_=v(N,"H1",{});var z=B(_);g=S(z,"User : "),h=S(z,T),z.forEach(c),y=w(N),U=v(N,"BR",{}),A=w(N),I.l(N),N.forEach(c),j.forEach(c),this.h()},h(){m(o,"name","author"),m(o,"content",t="Persona DB - User "+s[0].id),m(e,"property","og:title"),m(e,"content",l="Persona DB - User "+s[0].id),m(r,"class","container")},m(f,p){d(document.head,o),d(document.head,e),M.m(document.head,null),d(document.head,a),k(f,u,p),k(f,i,p),d(i,r),d(r,_),d(_,g),d(_,h),d(r,y),d(r,U),d(r,A),D[C].m(r,null),$=!0},p(f,[p]){(!$||p&1)&&n!==(n="Persona - User "+f[0].id)&&(document.title=n),(!$||p&1&&t!==(t="Persona DB - User "+f[0].id))&&m(o,"content",t),(!$||p&1&&l!==(l="Persona DB - User "+f[0].id))&&m(e,"content",l),R===(R=G(f))&&M?M.p(f,p):(M.d(1),M=R(f),M&&(M.c(),M.m(a.parentNode,a))),(!$||p&1)&&T!==(T=f[0].id+"")&&F(h,T);let j=C;C=K(f),C===j?D[C].p(f,p):(ae(),H(D[j],1,1,()=>{D[j]=null}),ne(),I=D[C],I?I.p(f,p):(I=D[C]=J[C](f),I.c()),O(I,1),I.m(r,null))},i(f){$||(O(I),$=!0)},o(f){H(I),$=!1},d(f){f&&(c(u),c(i)),c(o),c(e),M.d(f),c(a),D[C].d()}}}function ge(s,n,o){let{data:t}=n,e,l=!1;async function a(){try{let i=await Q.get(`${W}/users/${t.id}`);o(1,e=i.data)}catch{o(2,l=!1)}}(async()=>await a())();async function u(){return(await Q.get(`${W}/characters`)).data.filter(_=>_.ownerId===e._id)}return s.$$set=i=>{"data"in i&&o(0,t=i.data)},[t,e,l,u]}class Pe extends x{constructor(n){super(),ee(this,n,ge,ye,Z,{data:0})}}export{Pe as component,Ae as universal};
