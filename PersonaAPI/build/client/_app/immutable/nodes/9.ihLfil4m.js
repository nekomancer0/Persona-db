import{s as Y,n as D,d as Z}from"../chunks/scheduler.BWOwpdHh.js";import{S as x,i as ee,e as b,x as O,s as T,k as B,v as te,c as k,d as u,m as $,a as C,o as S,w as c,q as f,b as y,r as J,f as R,h as ne,t as F,g as ae,j as re,l as le,p as oe,u as se,y as ie}from"../chunks/index.MrXRJrN0.js";import{h as ce,u as ue,e as L}from"../chunks/each.MqN4OFCs.js";import{U as _e}from"../chunks/UserProfile.B1rVnCIF.js";import"../chunks/stores.C_hhX81d.js";import{a as Q}from"../chunks/api.CI0u685j.js";import"../chunks/entry.CvtO8IbG.js";import"../chunks/PartialUser.0Mh093ly.js";/* empty css                                                               */function fe({params:o}){return o}const $e=Object.freeze(Object.defineProperty({__proto__:null,load:fe},Symbol.toStringTag,{value:"Module"}));function W(o,n,l){const t=o.slice();return t[4]=n[l],t}function me(o){let n,l,t,e,s,a,_;return{c(){n=b("meta"),t=T(),e=b("meta"),a=T(),_=b("meta"),this.h()},l(i){n=k(i,"META",{name:!0,content:!0}),t=$(i),e=k(i,"META",{property:!0,content:!0}),a=$(i),_=k(i,"META",{property:!0,content:!0}),this.h()},h(){c(n,"name","description"),c(n,"content",l="Informations about "+o[0].id),c(e,"property","og:description"),c(e,"content",s="Couldn't find user "+o[0].id),c(_,"property","og:image"),c(_,"content","https://persona-db.xyz/favicon.png")},m(i,r){y(i,n,r),y(i,t,r),y(i,e,r),y(i,a,r),y(i,_,r)},p(i,r){r&1&&l!==(l="Informations about "+i[0].id)&&c(n,"content",l),r&1&&s!==(s="Couldn't find user "+i[0].id)&&c(e,"content",s)},d(i){i&&(u(n),u(t),u(e),u(a),u(_))}}}function de(o){let n,l,t,e,s,a,_,i;return{c(){n=b("meta"),t=T(),e=b("meta"),a=T(),_=b("meta"),this.h()},l(r){n=k(r,"META",{name:!0,content:!0}),t=$(r),e=k(r,"META",{property:!0,content:!0}),a=$(r),_=k(r,"META",{property:!0,content:!0}),this.h()},h(){c(n,"name","description"),c(n,"content",l="Informations about "+o[0].id),c(e,"property","og:description"),c(e,"content",s="Informations about "+o[0].id),c(_,"property","og:image"),c(_,"content",i=o[1].avatar)},m(r,m){y(r,n,m),y(r,t,m),y(r,e,m),y(r,a,m),y(r,_,m)},p(r,m){m&1&&l!==(l="Informations about "+r[0].id)&&c(n,"content",l),m&1&&s!==(s="Informations about "+r[0].id)&&c(e,"content",s),m&2&&i!==(i=r[1].avatar)&&c(_,"content",i)},d(r){r&&(u(n),u(t),u(e),u(a),u(_))}}}function he(o){let n,l,t=o[0].id+"",e;return{c(){n=b("p"),l=B("Couldn't find user with name "),e=B(t)},l(s){n=k(s,"P",{});var a=C(n);l=S(a,"Couldn't find user with name "),e=S(a,t),a.forEach(u)},m(s,a){y(s,n,a),f(n,l),f(n,e)},p(s,a){a&1&&t!==(t=s[0].id+"")&&J(e,t)},i:D,o:D,d(s){s&&u(n)}}}function pe(o){var w;let n,l,t,e,s=((w=o[1])==null?void 0:w.username)+"",a,_,i,r,m;n=new _e({props:{user:o[1]}});let p={ctx:o,current:null,token:null,hasCatch:!1,pending:ke,then:be,catch:ve,value:3};return ce(o[2](),p),{c(){re(n.$$.fragment),l=T(),t=b("div"),e=b("h2"),a=B(s),_=B("'s Characters"),i=T(),r=b("div"),p.block.c(),this.h()},l(h){le(n.$$.fragment,h),l=$(h),t=k(h,"DIV",{class:!0});var v=C(t);e=k(v,"H2",{});var A=C(e);a=S(A,s),_=S(A,"'s Characters"),A.forEach(u),i=$(v),r=k(v,"DIV",{class:!0});var U=C(r);p.block.l(U),U.forEach(u),v.forEach(u),this.h()},h(){c(r,"class","characters svelte-19k2rbu"),c(t,"class","my-characters-box svelte-19k2rbu")},m(h,v){oe(n,h,v),y(h,l,v),y(h,t,v),f(t,e),f(e,a),f(e,_),f(t,i),f(t,r),p.block.m(r,p.anchor=null),p.mount=()=>r,p.anchor=null,m=!0},p(h,v){var U;o=h;const A={};v&2&&(A.user=o[1]),n.$set(A),(!m||v&2)&&s!==(s=((U=o[1])==null?void 0:U.username)+"")&&J(a,s),ue(p,o,v)},i(h){m||(F(n.$$.fragment,h),m=!0)},o(h){R(n.$$.fragment,h),m=!1},d(h){h&&(u(l),u(t)),se(n,h),p.block.d(),p.token=null,p=null}}}function ve(o){return{c:D,l:D,m:D,p:D,d:D}}function be(o){let n,l=L(o[3]),t=[];for(let e=0;e<l.length;e+=1)t[e]=X(W(o,l,e));return{c(){for(let e=0;e<t.length;e+=1)t[e].c();n=O()},l(e){for(let s=0;s<t.length;s+=1)t[s].l(e);n=O()},m(e,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,s);y(e,n,s)},p(e,s){if(s&4){l=L(e[3]);let a;for(a=0;a<l.length;a+=1){const _=W(e,l,a);t[a]?t[a].p(_,s):(t[a]=X(_),t[a].c(),t[a].m(n.parentNode,n))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}},d(e){e&&u(n),ie(t,e)}}}function X(o){let n,l,t,e,s=o[4].name+"",a,_,i,r,m,p,w,h,v,A=o[4].name+"",U,I;return{c(){n=b("div"),l=b("div"),t=b("div"),e=b("h3"),a=B(s),_=T(),i=b("a"),r=B("Page"),m=T(),p=b("img"),h=T(),v=b("a"),U=B(A),I=T(),this.h()},l(g){n=k(g,"DIV",{class:!0});var M=C(n);l=k(M,"DIV",{class:!0});var j=C(l);t=k(j,"DIV",{class:!0});var q=C(t);e=k(q,"H3",{class:!0});var P=C(e);a=S(P,s),P.forEach(u),_=$(q),i=k(q,"A",{href:!0,id:!0});var z=C(i);r=S(z,"Page"),z.forEach(u),q.forEach(u),m=$(j),p=k(j,"IMG",{src:!0,alt:!0,class:!0}),j.forEach(u),h=$(M),v=k(M,"A",{href:!0});var V=C(v);U=S(V,A),V.forEach(u),I=$(M),M.forEach(u),this.h()},h(){c(e,"class","name"),c(i,"href",`/${o[4].code}`),c(i,"id","go"),c(t,"class","block"),Z(p.src,w=o[4].icon)||c(p,"src",w),c(p,"alt",""),c(p,"class","icon svelte-19k2rbu"),c(l,"class","inline svelte-19k2rbu"),c(v,"href",`/${o[4].code}`),c(n,"class","box svelte-19k2rbu")},m(g,M){y(g,n,M),f(n,l),f(l,t),f(t,e),f(e,a),f(t,_),f(t,i),f(i,r),f(l,m),f(l,p),f(n,h),f(n,v),f(v,U),f(n,I)},p:D,d(g){g&&u(n)}}}function ke(o){return{c:D,l:D,m:D,p:D,d:D}}function ge(o){let n,l,t,e,s,a,_,i,r,m,p,w=o[0].id+"",h,v,A,U,I,g,M;document.title=n="Persona - User "+o[0].id;function j(d,E){return d[1]?de:me}let q=j(o),P=q(o);const z=[pe,he],V=[];function K(d,E){return d[1]?0:1}return I=K(o),g=V[I]=z[I](o),{c(){l=b("meta"),e=b("meta"),P.c(),a=O(),_=T(),i=b("main"),r=b("div"),m=b("h1"),p=B("User : "),h=B(w),v=T(),A=b("br"),U=T(),g.c(),this.h()},l(d){const E=te("svelte-cr98qq",document.head);l=k(E,"META",{name:!0,content:!0}),e=k(E,"META",{property:!0,content:!0}),P.l(E),a=O(),E.forEach(u),_=$(d),i=k(d,"MAIN",{});var H=C(i);r=k(H,"DIV",{class:!0});var N=C(r);m=k(N,"H1",{});var G=C(m);p=S(G,"User : "),h=S(G,w),G.forEach(u),v=$(N),A=k(N,"BR",{}),U=$(N),g.l(N),N.forEach(u),H.forEach(u),this.h()},h(){c(l,"name","author"),c(l,"content",t="Persona DB - User "+o[0].id),c(e,"property","og:title"),c(e,"content",s="Persona DB - User "+o[0].id),c(r,"class","container")},m(d,E){f(document.head,l),f(document.head,e),P.m(document.head,null),f(document.head,a),y(d,_,E),y(d,i,E),f(i,r),f(r,m),f(m,p),f(m,h),f(r,v),f(r,A),f(r,U),V[I].m(r,null),M=!0},p(d,[E]){(!M||E&1)&&n!==(n="Persona - User "+d[0].id)&&(document.title=n),(!M||E&1&&t!==(t="Persona DB - User "+d[0].id))&&c(l,"content",t),(!M||E&1&&s!==(s="Persona DB - User "+d[0].id))&&c(e,"content",s),q===(q=j(d))&&P?P.p(d,E):(P.d(1),P=q(d),P&&(P.c(),P.m(a.parentNode,a))),(!M||E&1)&&w!==(w=d[0].id+"")&&J(h,w);let H=I;I=K(d),I===H?V[I].p(d,E):(ae(),R(V[H],1,1,()=>{V[H]=null}),ne(),g=V[I],g?g.p(d,E):(g=V[I]=z[I](d),g.c()),F(g,1),g.m(r,null))},i(d){M||(F(g),M=!0)},o(d){R(g),M=!1},d(d){d&&(u(_),u(i)),u(l),u(e),P.d(d),u(a),V[I].d()}}}function Ee(o,n,l){let{data:t}=n,e;(async()=>{try{l(1,e=await Q.getUser(t.id))}catch{}})();async function s(){return(await Q.getCharacters()).filter(_=>_.ownerId===e._id)}return o.$$set=a=>{"data"in a&&l(0,t=a.data)},[t,e,s]}class we extends x{constructor(n){super(),ee(this,n,Ee,ge,Y,{data:0})}}export{we as component,$e as universal};
