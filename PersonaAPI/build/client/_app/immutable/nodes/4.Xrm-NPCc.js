import{s as G,e as J}from"../chunks/scheduler.BWOwpdHh.js";import{S as K,i as Q,e as p,s as w,j as N,c as g,a as x,n as T,m as C,d as $,l as O,w as y,b as V,q as _,p as P,t as b,f as z,h as j,u as R,x as M,g as F,y as W,A as X}from"../chunks/index.MrXRJrN0.js";import{e as S}from"../chunks/each.MqN4OFCs.js";import{R as Y}from"../chunks/RecentCharacters.BvrbHZv8.js";import{u as Z,s as E,a as ee,r as te}from"../chunks/stores.C_hhX81d.js";import{U as ne}from"../chunks/UserProfile.B1rVnCIF.js";function H(u,l,r){const a=u.slice();return a[5]=l[r],a}function U(u){let l,r,a=S(u[0]),t=[];for(let n=0;n<a.length;n+=1)t[n]=B(H(u,a,n));const d=n=>z(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();l=M()},l(n){for(let e=0;e<t.length;e+=1)t[e].l(n);l=M()},m(n,e){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(n,e);V(n,l,e),r=!0},p(n,e){if(e&3){a=S(n[0]);let s;for(s=0;s<a.length;s+=1){const i=H(n,a,s);t[s]?(t[s].p(i,e),b(t[s],1)):(t[s]=B(i),t[s].c(),b(t[s],1),t[s].m(l.parentNode,l))}for(F(),s=a.length;s<t.length;s+=1)d(s);j()}},i(n){if(!r){for(let e=0;e<a.length;e+=1)b(t[e]);r=!0}},o(n){t=t.filter(Boolean);for(let e=0;e<t.length;e+=1)z(t[e]);r=!1},d(n){n&&$(l),W(t,n)}}}function B(u){let l,r,a,t,d="Delete",n,e,s,i;r=new ne({props:{user:u[5]}});function v(){return u[3](u[5])}return{c(){l=p("div"),N(r.$$.fragment),a=w(),t=p("button"),t.textContent=d,n=w(),this.h()},l(f){l=g(f,"DIV",{class:!0});var c=x(l);O(r.$$.fragment,c),a=C(c),t=g(c,"BUTTON",{class:!0,"data-svelte-h":!0}),T(t)!=="svelte-t00u4h"&&(t.textContent=d),n=C(c),c.forEach($),this.h()},h(){y(t,"class","delete svelte-150z58n"),y(l,"class","inline-user svelte-150z58n")},m(f,c){V(f,l,c),P(r,l,null),_(l,a),_(l,t),_(l,n),e=!0,s||(i=X(t,"click",v),s=!0)},p(f,c){u=f;const k={};c&1&&(k.user=u[5]),r.$set(k)},i(f){e||(b(r.$$.fragment,f),e=!0)},o(f){z(r.$$.fragment,f),e=!1},d(f){f&&$(l),R(r),s=!1,i()}}}function se(u){let l,r,a='<div class="center svelte-150z58n"><img src="/welcome1.png" alt="" class="svelte-150z58n"/> <h2 class="svelte-150z58n">to the fictional character database</h2></div>',t,d,n,e,s,i,v='<textarea name="content" id="content" cols="80" rows="15"></textarea> <button class="send svelte-150z58n">Send</button>',f,c,k,I,q,o=u[0]&&U(u);return c=new Y({}),{c(){l=p("main"),r=p("div"),r.innerHTML=a,t=w(),d=p("div"),n=p("div"),e=p("div"),o&&o.c(),s=w(),i=p("div"),i.innerHTML=v,f=w(),N(c.$$.fragment),this.h()},l(m){l=g(m,"MAIN",{});var h=x(l);r=g(h,"DIV",{class:!0,"data-svelte-h":!0}),T(r)!=="svelte-fiqluh"&&(r.innerHTML=a),t=C(h),d=g(h,"DIV",{class:!0});var A=x(d);n=g(A,"DIV",{class:!0});var D=x(n);e=g(D,"DIV",{class:!0});var L=x(e);o&&o.l(L),L.forEach($),s=C(D),i=g(D,"DIV",{class:!0,"data-svelte-h":!0}),T(i)!=="svelte-1ftz0xp"&&(i.innerHTML=v),D.forEach($),A.forEach($),f=C(h),O(c.$$.fragment,h),h.forEach($),this.h()},h(){y(r,"class","container full svelte-150z58n"),y(e,"class","users svelte-150z58n"),y(i,"class","changelog-box"),y(n,"class","inline svelte-150z58n"),y(d,"class","box svelte-150z58n")},m(m,h){V(m,l,h),_(l,r),_(l,t),_(l,d),_(d,n),_(n,e),o&&o.m(e,null),_(n,s),_(n,i),_(l,f),P(c,l,null),k=!0,I||(q=J(u[2].call(null,i)),I=!0)},p(m,[h]){m[0]?o?(o.p(m,h),h&1&&b(o,1)):(o=U(m),o.c(),b(o,1),o.m(e,null)):o&&(F(),z(o,1,1,()=>{o=null}),j())},i(m){k||(b(o),b(c.$$.fragment,m),k=!0)},o(m){z(o),z(c.$$.fragment,m),k=!1},d(m){m&&$(l),o&&o.d(),R(c),I=!1,q()}}}function le(u,l,r){let a=null;Z.subscribe(async e=>{new Object(e).hasOwnProperty("admin")&&e.admin&&(E.emit("dashbord"),E.emit("get_users",s=>{r(0,a=s.sort((i,v)=>i.createdAt-v.createdAt).reverse())}))});function t(e){confirm(`Are you sure to delete completely ${e.username} ?`)&&E.emit("delete_user",e._id,i=>{alert(i)})}function d(e){let s=e.querySelector("button");s==null||s.addEventListener("click",i=>{let v=e.querySelector("textarea");ee.post(`${te}/changelogs`,{content:v.value})})}return[a,t,d,e=>t(e)]}class fe extends K{constructor(l){super(),Q(this,l,le,se,G,{})}}export{fe as component};
