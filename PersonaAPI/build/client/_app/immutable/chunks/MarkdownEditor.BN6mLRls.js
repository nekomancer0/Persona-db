import{s as x,e as B,n as L,r as U,b as I}from"./scheduler.BWOwpdHh.js";import{S as M,i as C,e as k,k as z,s as H,c as T,a as E,o as F,m as N,n as K,d as _,w as c,b as q,q as b,A as G,H as X,B as J,E as V}from"./index.MrXRJrN0.js";import{D as P,m as R}from"./browser.Bm1TG6zI.js";import{L as j}from"./stores.B2cYib0m.js";function Q(i){let e,t,n,l,a,d,s,r="+",f,D;return{c(){e=k("div"),t=k("div"),n=k("input"),l=z(`\r
		:\r
		`),a=k("input"),d=H(),s=k("button"),s.textContent=r,this.h()},l(g){e=T(g,"DIV",{class:!0});var u=E(e);t=T(u,"DIV",{class:!0});var o=E(t);n=T(o,"INPUT",{type:!0,id:!0,autocomplete:!0,placeholder:!0}),l=F(o,`\r
		:\r
		`),a=T(o,"INPUT",{type:!0,id:!0,autocomplete:!0,placeholder:!0}),d=N(o),s=T(o,"BUTTON",{id:!0,"data-svelte-h":!0}),K(s)!=="svelte-d3lgtr"&&(s.textContent=r),o.forEach(_),u.forEach(_),this.h()},h(){c(n,"type","text"),c(n,"id","name"),c(n,"autocomplete","off"),c(n,"placeholder","Name of the stats (HP, ATK, DEX, etc)"),c(a,"type","number"),c(a,"id","value"),c(a,"autocomplete","off"),c(a,"placeholder","Value"),c(s,"id","add"),c(t,"class","line"),c(e,"class","stats-container svelte-10uucay")},m(g,u){q(g,e,u),b(e,t),b(t,n),b(t,l),b(t,a),b(t,d),b(t,s),i[6](t),i[7](e),f||(D=[G(s,"click",i[2]),B(i[3].call(null,e))],f=!0)},p:L,i:L,o:L,d(g){g&&_(e),i[6](null),i[7](null),f=!1,U(D)}}}function W(){let i="",e="abcdefghijklmnopqrstuvwxyz";for(let t=0;t<5;t++)i+=e[Math.floor(Math.random()*e.length)];return i}function Y(i,e,t){let{data:n=[]}=e,{dataToSet:l=void 0}=e;l&&l.length===1&&l[0].name===""&&(l=void 0);let a,d;function s(o){let v=o.target.classList[0],m=d.querySelector(`.line-${v}`);m==null||m.remove()}function r(o,v,m,h,y){let S=W(),p=document.createElement("div");p.classList.add("line"),p.innerHTML=h?h.innerHTML:a.innerHTML,p.querySelector("button").remove(),p.classList.add(`line-${S}`);let w=document.createElement("button");if(w.id="remove",w.classList.add(`${S}`),w.innerText="-",v&&m){let A=p.querySelector("#name"),O=p.querySelector("#value");A.value=v,O.value=m.toString()}w.addEventListener("click",s),p.appendChild(w),(y||d).appendChild(p)}const f=o=>{let v=[],m=o.querySelectorAll(".line");for(let h of m){let y=h.querySelector("#name"),S=h.querySelector("#value");v.push({name:y.value,value:parseInt(S.value)})}return v};function D(o){if(l){let v=o.querySelector(".line");l.forEach((m,h)=>{if(h)r(null,m.name,m.value,v,o);else{let y=v.querySelector("#name"),S=v.querySelector("#value");y.value=m.name,S.value=m.value.toString()}})}setInterval(()=>{t(4,n=f(o))},100)}function g(o){I[o?"unshift":"push"](()=>{a=o,t(0,a)})}function u(o){I[o?"unshift":"push"](()=>{d=o,t(1,d)})}return i.$$set=o=>{"data"in o&&t(4,n=o.data),"dataToSet"in o&&t(5,l=o.dataToSet)},[a,d,r,D,n,l,g,u]}class ie extends M{constructor(e){super(),C(this,e,Y,Q,x,{data:4,dataToSet:5})}}function Z(i){let e,t,n,l,a,d;return{c(){e=k("div"),t=k("div"),n=H(),l=k("input"),this.h()},l(s){e=T(s,"DIV",{class:!0});var r=E(e);t=T(r,"DIV",{class:!0}),E(t).forEach(_),n=N(r),l=T(r,"INPUT",{type:!0,placeholder:!0,class:!0}),r.forEach(_),this.h()},h(){c(t,"class","keywords svelte-1ccqldb"),c(l,"type","text"),c(l,"placeholder",i[0]),c(l,"class","svelte-1ccqldb"),c(e,"class","keyword-input-box svelte-1ccqldb")},m(s,r){q(s,e,r),b(e,t),i[7](t),b(e,n),b(e,l),i[8](e),a||(d=B(i[3].call(null,e)),a=!0)},p(s,[r]){r&1&&c(l,"placeholder",s[0])},i:L,o:L,d(s){s&&_(e),i[7](null),i[8](null),a=!1,d()}}}function $(i,e,t){let{placeholder:n}=e,{max:l=5}=e,{keywordsList:a=[]}=e,{tagsToSet:d=void 0}=e,s,r;function f(u){t(1,s=document.querySelector(".keywords"));let o=u.querySelector("input");u.addEventListener("click",h=>{o.focus()}),o.addEventListener("keyup",h=>{h.key===","&&m(h.target.value)}),d&&m(d.join(","));function v(){let h=s.querySelectorAll(".keyword-delete");for(let y of h)y.onclick=S=>{let p=S.target.parentNode,w=p.querySelector("span");t(4,a=a.filter(A=>A!==w.textContent)),p.remove()}}function m(h){let y=u.querySelector("input"),S=h.split(",");if(a.length===l){y.value="";return}for(let p of S){if(!p){y.value="";break}let w=`<div class="keyword"><span>${p}</span><div class="keyword-delete fa fa-close"></div></div>`;y.value="",t(1,s.innerHTML+=w,s),y.focus(),a.push(p)}v()}}function D(u){I[u?"unshift":"push"](()=>{s=u,t(1,s)})}function g(u){I[u?"unshift":"push"](()=>{r=u,t(2,r)})}return i.$$set=u=>{"placeholder"in u&&t(0,n=u.placeholder),"max"in u&&t(5,l=u.max),"keywordsList"in u&&t(4,a=u.keywordsList),"tagsToSet"in u&&t(6,d=u.tagsToSet)},[n,s,r,f,a,l,d,D,g]}class se extends M{constructor(e){super(),C(this,e,$,Z,x,{placeholder:0,max:5,keywordsList:4,tagsToSet:6})}}function ee(i){let e,t,n,l,a=P.sanitize(j(R(i[0])),{FORBID_TAGS:["script"],ADD_TAGS:["iframe"],ADD_ATTR:["allow","allowfullscreen","frameborder","scrolling"]})+"",d,s;return{c(){e=k("textarea"),t=H(),n=k("div"),l=new X(!1),this.h()},l(r){e=T(r,"TEXTAREA",{placeholder:!0,class:!0}),E(e).forEach(_),t=N(r),n=T(r,"DIV",{class:!0});var f=E(n);l=J(f,!1),f.forEach(_),this.h()},h(){c(e,"placeholder","Enter description here"),c(e,"class","svelte-1i5byj1"),l.a=null,c(n,"class","preview svelte-1i5byj1")},m(r,f){q(r,e,f),V(e,i[0]),q(r,t,f),q(r,n,f),l.m(a,n),d||(s=G(e,"input",i[1]),d=!0)},p(r,[f]){f&1&&V(e,r[0]),f&1&&a!==(a=P.sanitize(j(R(r[0])),{FORBID_TAGS:["script"],ADD_TAGS:["iframe"],ADD_ATTR:["allow","allowfullscreen","frameborder","scrolling"]})+"")&&l.p(a)},i:L,o:L,d(r){r&&(_(e),_(t),_(n)),d=!1,s()}}}function te(i,e,t){let{markdown:n=""}=e;function l(){n=this.value,t(0,n)}return i.$$set=a=>{"markdown"in a&&t(0,n=a.markdown)},[n,l]}class oe extends M{constructor(e){super(),C(this,e,te,ee,x,{markdown:0})}}export{oe as M,ie as S,se as T};
