{"version":3,"file":"_page.svelte-hfq18qjp.js","sources":["../../../../.svelte-kit/adapter-node/entries/pages/_id_/edit/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, e as escape, b as add_attribute, v as validate_component } from \"../../../../chunks/ssr.js\";\nimport { g as goto } from \"../../../../chunks/client.js\";\nimport \"../../../../chunks/stores.js\";\nimport { M as MarkdownEditor, S as StatsEditor, T as TagInput } from \"../../../../chunks/MarkdownEditor.js\";\nimport { a as api } from \"../../../../chunks/api.js\";\nconst css = {\n  code: \".box.svelte-nbk2og.svelte-nbk2og{margin-inline:auto;width:80%;border:1px solid gray;border-radius:10px;padding:5px;margin-bottom:10px}.setting-refsheet.svelte-nbk2og button.svelte-nbk2og{width:120px}.inline.svelte-nbk2og.svelte-nbk2og{display:flex;justify-content:space-around}.tag-box.svelte-nbk2og.svelte-nbk2og,.stats-box.svelte-nbk2og.svelte-nbk2og{display:flex;flex-direction:column;align-items:center}.images-corner.svelte-nbk2og.svelte-nbk2og{display:flex;justify-content:flex-end}.images-corner.svelte-nbk2og .images-form.svelte-nbk2og{display:flex;justify-content:space-between}.images-corner.svelte-nbk2og .images-form .setting-icon img.svelte-nbk2og{width:150px;height:150px;cursor:pointer}.images-corner.svelte-nbk2og .images-form .setting-refsheet img.svelte-nbk2og{width:630px;height:270px;cursor:pointer}.images-corner.svelte-nbk2og .images-form input.svelte-nbk2og{margin-inline:auto;margin-bottom:10px}.inline-name.svelte-nbk2og.svelte-nbk2og{display:flex;align-items:center;justify-content:center;gap:50px;width:80%;border-bottom:1px solid rgb(43, 41, 41);margin-inline:auto;padding-bottom:5px;margin-bottom:10px}.inline-name.svelte-nbk2og input[type=text].svelte-nbk2og{border:0;background-color:rgba(209, 209, 209, 0);outline:0;font-size:2rem;font-weight:bold;width:50%;border-radius:0;border-bottom:0}.alert.svelte-nbk2og.svelte-nbk2og{padding:5px;width:45%;border-radius:10px;color:white}.success.svelte-nbk2og.svelte-nbk2og{background-color:green;border:2px solid rgb(4, 78, 4)}.error.svelte-nbk2og.svelte-nbk2og{background-color:red;border:2px solid rgb(88, 4, 4)}\",\n  map: null\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  let statsData;\n  let tagsData = [];\n  let character = null;\n  (async () => {\n    try {\n      character = await api.getCharacter(data.id);\n    } catch {\n      await goto();\n    }\n  })();\n  let imagesForm;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  $$result.css.add(css);\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    $$rendered = `${$$result.head += `<!-- HEAD_svelte-624mu2_START -->${$$result.title = `<title>Editing ${escape(character ? character.name || \"a character\" : \"a character\")}</title>`, \"\"}<!-- HEAD_svelte-624mu2_END -->`, \"\"} <main><div class=\"container\">${character ? `${``} ${``} <div class=\"box svelte-nbk2og\"><div class=\"inline-name svelte-nbk2og\"><input type=\"text\" name=\"name\" id=\"name\" placeholder=\"Give a name to the character\" autocomplete=\"off\"${add_attribute(\"value\", character.name, 0)} class=\"svelte-nbk2og\"> <button data-svelte-h=\"svelte-h0ynbm\">Edit</button></div> ${validate_component(MarkdownEditor, \"MarkdownEditor\").$$render(\n      $$result,\n      { markdown: character.description },\n      {\n        markdown: ($$value) => {\n          character.description = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )} <div id=\"editorjs\"></div> <div class=\"images-corner svelte-nbk2og\"><form action=\"\" class=\"images-form svelte-nbk2og\" method=\"put\" id=\"images-form\"${add_attribute(\"this\", imagesForm, 0)}><div class=\"setting-icon\"><label for=\"icon\" data-svelte-h=\"svelte-16b1hwa\">Icon</label> <br> <input type=\"file\" name=\"icon\" id=\"icon\" max=\"1\" hidden class=\"svelte-nbk2og\"> ${character.icon ? `<img${add_attribute(\"src\", character.icon, 0)} alt=\"\" class=\"svelte-nbk2og\">` : `<button data-svelte-h=\"svelte-qnmkvj\">Upload Icon</button>`}</div> <div class=\"setting-refsheet svelte-nbk2og\"><label for=\"refsheet\" data-svelte-h=\"svelte-1ahd2x6\">Refsheet</label> <br> <input type=\"file\" name=\"refsheet\" id=\"refsheet\" max=\"1\" hidden class=\"svelte-nbk2og\"> ${character.refsheet ? `<img${add_attribute(\"src\", character.refsheet, 0)} alt=\"\" class=\"svelte-nbk2og\">` : `<button class=\"svelte-nbk2og\" data-svelte-h=\"svelte-oeurci\">Upload Refsheet</button>`}</div></form></div></div> <div class=\"box svelte-nbk2og\"><div class=\"inline svelte-nbk2og\"><div class=\"stats-box svelte-nbk2og\"><h3 data-svelte-h=\"svelte-5zwsxb\">Stats</h3> ${character && character.stats ? `${validate_component(StatsEditor, \"StatsEditor\").$$render(\n      $$result,\n      {\n        dataToSet: character.stats,\n        data: statsData\n      },\n      {\n        data: ($$value) => {\n          statsData = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}` : ``}</div> <div class=\"tag-box svelte-nbk2og\"><h3 data-svelte-h=\"svelte-1nl40cx\">Tags</h3> ${character && character.tags ? `${validate_component(TagInput, \"TagInput\").$$render(\n      $$result,\n      {\n        placeholder: \"Add keywords\",\n        tagsToSet: character.tags,\n        keywordsList: tagsData\n      },\n      {\n        keywordsList: ($$value) => {\n          tagsData = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}` : `${validate_component(TagInput, \"TagInput\").$$render(\n      $$result,\n      {\n        placeholder: \"Add keywords\",\n        keywordsList: tagsData\n      },\n      {\n        keywordsList: ($$value) => {\n          tagsData = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}`}</div></div></div>` : ``}</div> </main>`;\n  } while (!$$settled);\n  return $$rendered;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}