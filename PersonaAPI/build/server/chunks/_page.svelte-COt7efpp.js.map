{"version":3,"file":"_page.svelte-COt7efpp.js","sources":["../../../../.svelte-kit/adapter-node/entries/pages/search/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, e as escape, i as is_promise, n as noop, d as each, v as validate_component, b as add_attribute } from \"../../../chunks/ssr.js\";\nimport \"../../../chunks/stores.js\";\nimport { P as PartialUser } from \"../../../chunks/PartialUser.js\";\nimport { a as api } from \"../../../chunks/api.js\";\nimport \"../../../chunks/client.js\";\nconst css = {\n  code: \".inline.svelte-kkud9r{display:flex;justify-content:space-around}\",\n  map: null\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let query = \"\";\n  async function getUsersResult() {\n    let users = (await api.getUsers()).filter((u) => u.username.includes(query));\n    return users;\n  }\n  async function getCharactersResult() {\n    let characters = await api.getCharacters();\n    let results = [];\n    for (let character of characters) {\n      if (character.name.includes(query))\n        results.push(character);\n      else {\n        let found = false;\n        let keywords = query.split(\" \");\n        for (let keyword of keywords) {\n          if (character.tags.includes(keyword)) {\n            found = true;\n          }\n        }\n        if (found)\n          results.push(character);\n      }\n    }\n    return results;\n  }\n  $$result.css.add(css);\n  return `${$$result.head += `<!-- HEAD_svelte-1q82o1r_START -->${$$result.title = `<title>Persona - Search</title>`, \"\"}<meta name=\"author\" content=\"Persona DB - Search\"><meta name=\"description\" content=\"${\"Search results for \" + escape(query, true)}\"><meta property=\"og:title\" content=\"Persona DB - Search\"><meta property=\"og:description\" content=\"${\"Search results for \" + escape(query, true)}\"><meta property=\"og:image\" content=\"https://persona-db.xyz/favicon.png\"><!-- HEAD_svelte-1q82o1r_END -->`, \"\"} <main><div class=\"container\"><h1>Searching <i>${escape(query)}</i></h1> <div class=\"inline svelte-kkud9r\"><div class=\"users\"><h2 data-svelte-h=\"svelte-owdh1y\">Users</h2> ${function(__value) {\n    if (is_promise(__value)) {\n      __value.then(null, noop);\n      return ``;\n    }\n    return function(usersResult) {\n      return ` ${usersResult.length ? `${each(usersResult, (user) => {\n        return `${validate_component(PartialUser, \"PartialUser\").$$render($$result, { user }, {}, {})}`;\n      })}` : ``} `;\n    }(__value);\n  }(getUsersResult())}</div> <div class=\"characters\"><h2 data-svelte-h=\"svelte-19nbxqm\">Characters</h2> ${function(__value) {\n    if (is_promise(__value)) {\n      __value.then(null, noop);\n      return ``;\n    }\n    return function(charactersResult) {\n      return ` ${charactersResult.length ? `${each(charactersResult, (chara) => {\n        return `<li><a${add_attribute(\"href\", `/${chara.code}`, 0)}>${escape(chara.name)}</a></li>`;\n      })}` : ``} `;\n    }(__value);\n  }(getCharactersResult())}</div></div></div> </main>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}