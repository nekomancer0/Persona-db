{"version":3,"file":"_page.svelte-DiC3RVDh.js","sources":["../../../../.svelte-kit/adapter-node/entries/pages/profile/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, a as subscribe, v as validate_component, b as add_attribute, i as is_promise, n as noop, d as each, e as escape } from \"../../../chunks/ssr.js\";\nimport \"../../../chunks/client.js\";\nimport { U as UserProfile } from \"../../../chunks/UserProfile.js\";\nimport { u as user } from \"../../../chunks/stores.js\";\nimport { a as api } from \"../../../chunks/api.js\";\nconst css = {\n  code: \"form.svelte-7dbtqd.svelte-7dbtqd{-webkit-box-shadow:inset 1px 1px 13px -3px #000000;box-shadow:inset 1px 1px 13px -3px #000000;border-radius:15px;padding:10px;width:50%;margin-inline:auto;text-align:center}form.svelte-7dbtqd button.svelte-7dbtqd{margin-top:10px}.my-characters-box.svelte-7dbtqd.svelte-7dbtqd{margin-block:20px;text-align:center}.alert.svelte-7dbtqd.svelte-7dbtqd{margin-bottom:50px}.controls.svelte-7dbtqd.svelte-7dbtqd{display:flex;flex-direction:column}.inline.svelte-7dbtqd.svelte-7dbtqd{display:flex;justify-content:space-around}.control.svelte-7dbtqd.svelte-7dbtqd{display:inline;margin-inline:auto}.control.svelte-7dbtqd label.svelte-7dbtqd{margin-right:10px;text-align:left}.control.svelte-7dbtqd+.control.svelte-7dbtqd{margin-top:10px}.alert.svelte-7dbtqd.svelte-7dbtqd{padding:5px;width:45%;border-radius:10px;color:white}.success.svelte-7dbtqd.svelte-7dbtqd{background-color:green;border:2px solid rgb(4, 78, 4)}.error.svelte-7dbtqd.svelte-7dbtqd{background-color:red;border:2px solid rgb(88, 4, 4)}\",\n  map: null\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $user, $$unsubscribe_user;\n  $$unsubscribe_user = subscribe(user, (value) => $user = value);\n  let updateForm;\n  async function getMyCharacters() {\n    let characters = await api.getCharacters();\n    return characters.filter((chara) => chara.ownerId === $user._id);\n  }\n  $$result.css.add(css);\n  $$unsubscribe_user();\n  return `${$$result.head += `<!-- HEAD_svelte-103wdwc_START -->${$$result.title = `<title>Persona - My Profile</title>`, \"\"}<meta name=\"author\" content=\"Persona DB - My Profile\"><meta name=\"description\" content=\"Find and host any original characters\"><meta property=\"og:title\" content=\"Persona DB\"><meta property=\"og:description\" content=\"Find and host any original characters\"><meta property=\"og:image\" content=\"https://persona-db.xyz/favicon.png\"><!-- HEAD_svelte-103wdwc_END -->`, \"\"} <main><div class=\"container\"><h1 data-svelte-h=\"svelte-bjixez\">My Profile</h1> ${$user ? `${``} ${``} <div class=\"inline svelte-7dbtqd\">${validate_component(UserProfile, \"UserProfile\").$$render($$result, { user: $user }, {}, {})} <form id=\"update-form\" class=\"box svelte-7dbtqd\"${add_attribute(\"this\", updateForm, 0)} data-svelte-h=\"svelte-111zpai\"><h2>Update</h2> <div class=\"controls svelte-7dbtqd\"><div class=\"control svelte-7dbtqd\"><label for=\"file\" class=\"svelte-7dbtqd\">Avatar :</label> <input type=\"file\" class=\"input-file\" name=\"file\" id=\"file\" accept=\"image/png, image/jpeg, image/gif\"></div> <div class=\"control svelte-7dbtqd\"><label for=\"file\" class=\"svelte-7dbtqd\">Username :</label> <input type=\"text\" name=\"username\" id=\"username\" placeholder=\"Set a new username\" autocomplete=\"off\"></div></div> <button id=\"submit\" class=\"svelte-7dbtqd\">Update</button></form></div> <div class=\"my-characters-box svelte-7dbtqd\"><h2 data-svelte-h=\"svelte-l0qx6s\">My characters</h2> <div class=\"characters\">${function(__value) {\n    if (is_promise(__value)) {\n      __value.then(null, noop);\n      return ``;\n    }\n    return function(charas) {\n      return ` ${each(charas, (chara) => {\n        return `<a${add_attribute(\"href\", `/${chara.code}`, 0)}>${escape(chara.name)}</a>`;\n      })} `;\n    }(__value);\n  }(getMyCharacters())}</div></div>` : `<p data-svelte-h=\"svelte-xpjzu7\">You are not connected</p> <ul data-svelte-h=\"svelte-ejvyc0\"><li><a href=\"/login\">Login</a></li></ul>`}</div> </main>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAKA,MAAM,GAAG,GAAG;AACZ,EAAE,IAAI,EAAE,ogCAAogC;AAC5gC,EAAE,GAAG,EAAE,IAAI;AACX,CAAC,CAAC;AACG,MAAC,IAAI,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC5E,EAAE,IAAI,KAAK,EAAE,kBAAkB,CAAC;AAChC,EAAE,kBAAkB,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC,KAAK,KAAK,KAAK,GAAG,KAAK,CAAC,CAAC;AACjE,EAAE,IAAI,UAAU,CAAC;AACjB,EAAE,eAAe,eAAe,GAAG;AACnC,IAAI,IAAI,UAAU,GAAG,MAAM,GAAG,CAAC,aAAa,EAAE,CAAC;AAC/C,IAAI,OAAO,UAAU,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,OAAO,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC;AACrE,GAAG;AACH,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACxB,EAAE,kBAAkB,EAAE,CAAC;AACvB,EAAE,OAAO,CAAC,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,kCAAkC,EAAE,QAAQ,CAAC,KAAK,GAAG,CAAC,mCAAmC,CAAC,EAAE,EAAE,CAAC,qWAAqW,CAAC,EAAE,EAAE,CAAC,gFAAgF,EAAE,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,mCAAmC,EAAE,kBAAkB,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,iDAAiD,EAAE,aAAa,CAAC,MAAM,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC,8qBAA8qB,EAAE,SAAS,OAAO,EAAE;AACx+C,IAAI,IAAI,UAAU,CAAC,OAAO,CAAC,EAAE;AAC7B,MAAM,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAC/B,MAAM,OAAO,CAAC,CAAC,CAAC;AAChB,KAAK;AACL,IAAI,OAAO,SAAS,MAAM,EAAE;AAC5B,MAAM,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,KAAK,KAAK;AACzC,QAAQ,OAAO,CAAC,EAAE,EAAE,aAAa,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;AAC3F,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACZ,KAAK,CAAC,OAAO,CAAC,CAAC;AACf,GAAG,CAAC,eAAe,EAAE,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,qIAAqI,CAAC,CAAC,cAAc,CAAC,CAAC;AAC/L,CAAC;;;;"}