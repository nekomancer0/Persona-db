{"version":3,"file":"_page.svelte-DTHEh8Ec.js","sources":["../../../../.svelte-kit/adapter-node/entries/pages/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, e as escape, v as validate_component, i as is_promise, n as noop, d as each } from \"../../chunks/ssr.js\";\nimport axios from \"axios\";\nimport { R as RecentCharacters } from \"../../chunks/RecentCharacters.js\";\nimport { s as socket, r as root } from \"../../chunks/stores.js\";\nimport dayjs from \"dayjs\";\nimport { P as PartialUser } from \"../../chunks/PartialUser.js\";\nconst css = {\n  code: '@import url(\"https://fonts.googleapis.com/css2?family=Protest+Revolution&display=swap\");#guest_count.svelte-s3gv7x.svelte-s3gv7x{float:right}.changelogs.svelte-s3gv7x.svelte-s3gv7x{margin-inline:10%;display:flex;justify-content:center;flex-direction:column;gap:50px}.changelogs.svelte-s3gv7x h2.svelte-s3gv7x{text-align:center}.changelogs.svelte-s3gv7x .log.svelte-s3gv7x{padding:20px;margin-bottom:10px;border:1px solid gray;border-radius:15px;background-color:rgb(178, 224, 235);padding:10px}.changelogs.svelte-s3gv7x .log .inline.svelte-s3gv7x{display:flex;flex-direction:row;justify-content:space-around}.changelogs.svelte-s3gv7x .log p.svelte-s3gv7x{text-indent:5%}.center.svelte-s3gv7x.svelte-s3gv7x{display:flex;flex-direction:column;justify-content:center;align-items:center}.center.svelte-s3gv7x img.svelte-s3gv7x{width:60%}.center.svelte-s3gv7x h2.svelte-s3gv7x{font-family:\"Protest Revolution\";transform:translateX(50%)}.full.svelte-s3gv7x.svelte-s3gv7x{height:calc(100vh - 35px)}@media only screen and (max-width: 768px){.center.svelte-s3gv7x img.svelte-s3gv7x{width:100%}.center.svelte-s3gv7x h2.svelte-s3gv7x{transform:translateX(0);text-align:center}.container h1{text-align:center}}',\n  map: null\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let guest_count = 0;\n  async function getChangelogs() {\n    try {\n      let result = await axios.get(`${root}/changelogs`);\n      return result.data.reverse();\n    } catch (e) {\n      console.log(e);\n      return [];\n    }\n  }\n  async function getUser(userId) {\n    let result = await axios.get(`${root}/users/${userId}`);\n    return result.data;\n  }\n  socket.on(\"guest_count\", (count) => {\n    guest_count = count;\n  });\n  $$result.css.add(css);\n  return `${$$result.head += `<!-- HEAD_svelte-5jsod_START -->${$$result.title = `<title>Persona, fictional character database</title>`, \"\"}<meta name=\"author\" content=\"Persona DB\"><meta name=\"description\" content=\"Find and host any original characters\"><meta property=\"og:title\" content=\"Persona DB\"><meta property=\"og:description\" content=\"Find and host any original characters\"><meta property=\"og:image\" content=\"https://persona-db.xyz/favicon.png\"><!-- HEAD_svelte-5jsod_END -->`, \"\"} <main><p id=\"guest_count\" class=\"svelte-s3gv7x\">There are ${escape(guest_count)} guests.</p> <div class=\"container full svelte-s3gv7x\" data-svelte-h=\"svelte-fiqluh\"><div class=\"center svelte-s3gv7x\"><img src=\"/welcome1.png\" alt=\"\" class=\"svelte-s3gv7x\"> <h2 class=\"svelte-s3gv7x\">to the fictional character database</h2></div></div> ${validate_component(RecentCharacters, \"RecentCharacters\").$$render($$result, {}, {}, {})} <div class=\"changelogs svelte-s3gv7x\"><h2 class=\"svelte-s3gv7x\" data-svelte-h=\"svelte-1il5hxl\">Changelogs</h2> ${function(__value) {\n    if (is_promise(__value)) {\n      __value.then(null, noop);\n      return ``;\n    }\n    return function(changelogs) {\n      return ` ${each(changelogs, (changelog) => {\n        return `<div class=\"log svelte-s3gv7x\"><div class=\"inline svelte-s3gv7x\"><h3>${escape(dayjs(changelog.createdAt).format(\"DD/MM/YYYY\"))}</h3> ${function(__value2) {\n          if (is_promise(__value2)) {\n            __value2.then(null, noop);\n            return ``;\n          }\n          return function(user) {\n            return ` ${validate_component(PartialUser, \"PartialUser\").$$render($$result, { user }, {}, {})} `;\n          }(__value2);\n        }(getUser(changelog.userId))}</div> <p class=\"svelte-s3gv7x\">${escape(changelog.content)}</p> </div>`;\n      })} `;\n    }(__value);\n  }(getChangelogs())}</div> </main>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAMA,MAAM,GAAG,GAAG;AACZ,EAAE,IAAI,EAAE,grCAAgrC;AACxrC,EAAE,GAAG,EAAE,IAAI;AACX,CAAC,CAAC;AACG,MAAC,IAAI,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC5E,EAAE,IAAI,WAAW,GAAG,CAAC,CAAC;AACtB,EAAE,eAAe,aAAa,GAAG;AACjC,IAAI,IAAI;AACR,MAAM,IAAI,MAAM,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;AACzD,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;AACnC,KAAK,CAAC,OAAO,CAAC,EAAE;AAChB,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACrB,MAAM,OAAO,EAAE,CAAC;AAChB,KAAK;AACL,GAAG;AACH,EAAE,eAAe,OAAO,CAAC,MAAM,EAAE;AACjC,IAAI,IAAI,MAAM,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;AAC5D,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC;AACvB,GAAG;AACH,EAAE,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,KAAK,KAAK;AACtC,IAAI,WAAW,GAAG,KAAK,CAAC;AACxB,GAAG,CAAC,CAAC;AACL,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACxB,EAAE,OAAO,CAAC,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,gCAAgC,EAAE,QAAQ,CAAC,KAAK,GAAG,CAAC,oDAAoD,CAAC,EAAE,EAAE,CAAC,sVAAsV,CAAC,EAAE,EAAE,CAAC,2DAA2D,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC,6PAA6P,EAAE,kBAAkB,CAAC,gBAAgB,EAAE,kBAAkB,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,gHAAgH,EAAE,SAAS,OAAO,EAAE;AACphC,IAAI,IAAI,UAAU,CAAC,OAAO,CAAC,EAAE;AAC7B,MAAM,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAC/B,MAAM,OAAO,CAAC,CAAC,CAAC;AAChB,KAAK;AACL,IAAI,OAAO,SAAS,UAAU,EAAE;AAChC,MAAM,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,KAAK;AACjD,QAAQ,OAAO,CAAC,qEAAqE,EAAE,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,EAAE,SAAS,QAAQ,EAAE;AAC1K,UAAU,IAAI,UAAU,CAAC,QAAQ,CAAC,EAAE;AACpC,YAAY,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AACtC,YAAY,OAAO,CAAC,CAAC,CAAC;AACtB,WAAW;AACX,UAAU,OAAO,SAAS,IAAI,EAAE;AAChC,YAAY,OAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9G,WAAW,CAAC,QAAQ,CAAC,CAAC;AACtB,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,gCAAgC,EAAE,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC;AAC9G,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACZ,KAAK,CAAC,OAAO,CAAC,CAAC;AACf,GAAG,CAAC,aAAa,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC;AACrC,CAAC;;;;"}