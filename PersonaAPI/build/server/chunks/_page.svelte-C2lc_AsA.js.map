{"version":3,"file":"_page.svelte-C2lc_AsA.js","sources":["../../../../.svelte-kit/adapter-node/entries/pages/profile/_id_/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, e as escape, b as add_attribute, v as validate_component, i as is_promise, n as noop, d as each } from \"../../../../chunks/ssr.js\";\nimport axios from \"axios\";\nimport { U as UserProfile } from \"../../../../chunks/UserProfile.js\";\nimport { r as root } from \"../../../../chunks/stores.js\";\nconst css = {\n  code: \".my-characters-box.svelte-161lils{margin-block:20px;text-align:center}\",\n  map: null\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  let user;\n  let notFound = false;\n  async function getByUsername() {\n    try {\n      let result = await axios.get(`${root}/users/${data.id}`);\n      user = result.data;\n    } catch (e) {\n      notFound = false;\n    }\n  }\n  (async () => {\n    await getByUsername();\n  })();\n  async function getMyCharacters() {\n    let allCharactersResult = await axios.get(`${root}/characters`);\n    let mycharacters = allCharactersResult.data.filter((chara) => chara.ownerId === user._id);\n    return mycharacters;\n  }\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  $$result.css.add(css);\n  return `${$$result.head += `<!-- HEAD_svelte-cr98qq_START -->${$$result.title = `<title>Persona - User ${escape(data.id)}</title>`, \"\"}<meta name=\"author\" content=\"${\"Persona DB - User \" + escape(data.id, true)}\"><meta property=\"og:title\" content=\"${\"Persona DB - User \" + escape(data.id, true)}\">${user ? `<meta name=\"description\" content=\"${\"Informations about \" + escape(data.id, true)}\"> <meta property=\"og:description\" content=\"${\"Informations about \" + escape(data.id, true)}\"> <meta property=\"og:image\"${add_attribute(\"content\", user.avatar, 0)}>` : `<meta name=\"description\" content=\"${\"Informations about \" + escape(data.id, true)}\"> <meta property=\"og:description\" content=\"${\"Couldn't find user \" + escape(data.id, true)}\"> <meta property=\"og:image\" content=\"https://persona-db.xyz/favicon.png\">`}<!-- HEAD_svelte-cr98qq_END -->`, \"\"} <main><div class=\"container\"><h1>User : ${escape(data.id)}</h1> <br> ${user && !notFound ? `${validate_component(UserProfile, \"UserProfile\").$$render($$result, { user }, {}, {})} <div class=\"my-characters-box svelte-161lils\"><h2>${escape(user?.username)}&#39;s Characters</h2> <div class=\"characters\">${function(__value) {\n    if (is_promise(__value)) {\n      __value.then(null, noop);\n      return ``;\n    }\n    return function(charas) {\n      return ` ${each(charas, (chara) => {\n        return `<a${add_attribute(\"href\", `/${chara.code}`, 0)}>${escape(chara.name)}</a>`;\n      })} `;\n    }(__value);\n  }(getMyCharacters())}</div></div>` : `<p>Couldn&#39;t find user with name ${escape(data.id)}</p>`}</div> </main>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}